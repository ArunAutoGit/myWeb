# Gitpod configuration file

# Tasks to execute during workspace initialization
tasks:
  - init: npm install -g http-server # Install http-server globally
    command: http-server . -p 3000  # Start the server on port 3000

# Ports to expose and their behavior
ports:
  - port: 3000
    onOpen: open-preview # Open the app in the Gitpod preview browser automatically
    visibility: public   # Make the port publicly accessible

# Cleanup tasks to run when the workspace stops
onStop:
  - echo "Stopping http-server..." # Log the cleanup action
  - kill $(lsof -t -i:3000) || echo "Port 3000 is already closed." # Kill the process using port 3000
